# ESPHome EUC Monitor для Inmotion V11

Этот проект предназначен для мониторинга состояния моноколеса **Inmotion V11** и гарнитуры **Fodsports FX7** с использованием **ESP32** и **ESPHome**. Подключение происходит по Bluetooth Low Energy (BLE).

## Возможности

- Подключение к моноколесу Inmotion и получение:
  - Заряда аккумулятора (%)
  - Напряжения (V)
  - Тока (A)
  - Потребляемой мощности (W)
  - Статуса зарядки и подъема колеса

- Подключение к гарнитуре Fodsports FX7 и получение:
  - Уровня заряда батареи
  - Уровня сигнала (RSSI)

- Веб-интерфейс с показателями
- Интеграция с Home Assistant

## Требования

- Плата ESP32 (например, ESP32 DevKit v1)
- ESPHome установленный на компьютере (для прошивки)
- BLE-адреса устройств Inmotion и Fodsports FX7

## Установка

### 1. Клонирование проекта

```bash
git clone git@github.com:vaninanton/esphome-euc.git
```

### 2. Подготовка secrets.yaml

Создай файл secrets.yaml и укажи в нём:

```yaml
wifi_ssid: "ТвояСетьWiFi"
wifi_password: "ПарольОтWiFi"
ha_encryption_key: "КлючИзHomeAssistant"
```

### 3. Подключение ESP32 и прошивка

Прошивка:

```bash
esphome run esphome-euc-esp32.yaml
```

### 4. Проверка

После прошивки устройство автоматически подключится к Wi-Fi, BLE-устройствам и начнёт передавать данные.
Открой веб-интерфейс по IP-адресу устройства или через Home Assistant.

### Примечания

BLE-адреса (MAC) моноколеса и гарнитуры заданы в substitutions в начале файла esphome-euc-esp32.yaml.

Если используешь другие устройства, обязательно замени MAC-адреса на свои. Для поиска MAC-адресов BLE устройств можно прошить данную программу:

```bash
esphome run esphome-ble-scan-esp32.yaml
```

